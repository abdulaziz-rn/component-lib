"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");var _typeof=require("@babel/runtime/helpers/typeof");Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=CInput;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends"));var _defineProperty2=_interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var _react=_interopRequireWildcard(require("react"));var _reactNative=require("react-native");var _reactNativeElements=require("react-native-elements");var _theme=require("../../theme");var _jsxFileName="/Users/maren/Documents/poc-sanar/src/components/common/CInput.tsx";function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap(),t=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?t:r;})(e);}function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=_typeof(e)&&"function"!=typeof e)return{"default":e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e){if("default"!==u&&{}.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u];}}return n["default"]=e,t&&t.set(e,n),n;}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){(0,_defineProperty2["default"])(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function CInput(props){var _useState=(0,_react.useState)(0),_useState2=(0,_slicedToArray2["default"])(_useState,2),length=_useState2[0],setLength=_useState2[1];var inputWidth=props.width/2-30;function measureTextWidth(){if(_reactNative.Platform.OS==='ios'&&_reactNative.I18nManager.isRTL){if(props.value!=''){var _widths=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.2796875,0.2765625,0.3546875,0.5546875,0.5546875,0.8890625,0.665625,0.190625,0.3328125,0.3328125,0.3890625,0.5828125,0.2765625,0.3328125,0.2765625,0.3015625,0.5546875,0.5546875,0.5546875,0.5546875,0.5546875,0.5546875,0.5546875,0.5546875,0.5546875,0.5546875,0.2765625,0.2765625,0.584375,0.5828125,0.584375,0.5546875,1.0140625,0.665625,0.665625,0.721875,0.721875,0.665625,0.609375,0.7765625,0.721875,0.2765625,0.5,0.665625,0.5546875,0.8328125,0.721875,0.7765625,0.665625,0.7765625,0.721875,0.665625,0.609375,0.721875,0.665625,0.94375,0.665625,0.665625,0.609375,0.2765625,0.3546875,0.2765625,0.4765625,0.5546875,0.3328125,0.5546875,0.5546875,0.5,0.5546875,0.5546875,0.2765625,0.5546875,0.5546875,0.221875,0.240625,0.5,0.221875,0.8328125,0.5546875,0.5546875,0.5546875,0.5546875,0.3328125,0.5,0.2765625,0.5546875,0.5,0.721875,0.5,0.5,0.5,0.3546875,0.259375,0.353125,0.5890625];var _avg=0.5279276315789471;var _textWidth=Array.from(props.value).reduce(function(acc,cur){var _widths$cur$charCodeA;return acc+((_widths$cur$charCodeA=_widths[cur.charCodeAt(0)])!==null&&_widths$cur$charCodeA!==void 0?_widths$cur$charCodeA:_avg);},0)*_theme.theme.fonts.font16;setLength(_textWidth);}else{setLength(0);}}}var textValueStyle=function textValueStyle(){return _objectSpread({},_reactNative.Platform.select({android:props.inputStyle,ios:length<inputWidth&&_reactNative.I18nManager.isRTL?props.inputStyle:{}}));};return _react["default"].createElement(_reactNativeElements.Input,(0,_extends2["default"])({},props,{value:props.value,containerStyle:{marginBottom:1},inputContainerStyle:[props.inputStyle,styles.inputStyleName],labelStyle:[styles.inputLabelStyle,props.labelStyle],label:props.label,errorStyle:styles.errorTxt,errorMessage:props.errorMessage,onContentSizeChange:measureTextWidth,onChangeText:props.onChangeText,inputStyle:[{fontFamily:_theme.theme.fontFamily.regular,fontSize:_theme.theme.fonts.font12},textValueStyle()],autoCorrect:false,__self:this,__source:{fileName:_jsxFileName,lineNumber:41,columnNumber:9}}));}var styles=_reactNative.StyleSheet.create({inputStyleName:{borderWidth:1,borderColor:_theme.theme.colors.border,borderRadius:6,paddingLeft:10,height:50},inputLabelStyle:{fontSize:_theme.theme.fonts.font11,fontWeight:'400',paddingBottom:5,paddingTop:10,fontFamily:_theme.theme.fontFamily.regular,color:_theme.theme.colors.labelTxtGrey,textAlign:'left',marginTop:2},errorTxt:{color:_theme.theme.colors.error,fontFamily:_theme.theme.fontFamily.regular,fontSize:_theme.theme.fonts.font9,textAlign:'left'}});
